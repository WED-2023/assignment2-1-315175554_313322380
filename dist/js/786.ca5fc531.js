"use strict";(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[786],{1786:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container py-5"},[t("h1",{staticClass:"title text-center mb-4"},[e._v("Search Recipes")]),t("b-form",{staticClass:"text-center",on:{submit:function(t){return t.preventDefault(),e.searchRecipes.apply(null,arguments)}}},[t("div",{staticClass:"d-flex justify-content-center mb-3"},[t("b-form-input",{staticClass:"mr-2",staticStyle:{width:"300px"},attrs:{placeholder:"Search for a recipe..."},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}}),t("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Search")])],1),t("div",{staticClass:"filters d-flex justify-content-center mb-4"},[t("b-dropdown",{staticClass:"mr-2",attrs:{id:"cuisine-dropdown",text:"Cuisine",variant:"secondary"}},e._l(e.cuisines,(function(r){return t("b-dropdown-item",{key:r,on:{click:function(t){e.selectedCuisine=r}}},[e._v(e._s(r))])})),1),t("b-dropdown",{staticClass:"mr-2",attrs:{id:"diet-dropdown",text:"Diet",variant:"secondary"}},e._l(e.diets,(function(r){return t("b-dropdown-item",{key:r,on:{click:function(t){e.selectedDiet=r}}},[e._v(e._s(r))])})),1),t("b-dropdown",{staticClass:"mr-2",attrs:{id:"intolerance-dropdown",text:"Intolerance",variant:"secondary"}},e._l(e.intolerances,(function(r){return t("b-dropdown-item",{key:r,on:{click:function(t){e.selectedIntolerance=r}}},[e._v(e._s(r))])})),1),t("b-form-select",{staticClass:"mr-2",attrs:{options:e.resultsOptions,size:"sm"},model:{value:e.numberOfResults,callback:function(t){e.numberOfResults=t},expression:"numberOfResults"}})],1)]),e.loading?t("div",{staticClass:"loading-message text-center my-4"},[t("b-spinner",{attrs:{small:"",label:"Searching..."}}),t("span",{staticClass:"ml-2"},[e._v("Searching...")])],1):e._e(),e.error?t("b-alert",{attrs:{variant:"danger",dismissible:""}},[e._v(" "+e._s(e.error)+" ")]):e._e(),!e.loading&&e.recipes.length>0?t("RecipePreviewList",{attrs:{title:"Search Results",recipes:e.recipes}}):e._e(),!e.loading&&0===e.recipes.length&&e.query?t("div",{staticClass:"no-results text-center mt-4"},[e._v(' No recipes found for "'+e._s(e.query)+'". ')]):e._e()],1)},n=[],i=r(6835),a=r(8534),c=(r(8862),r(9417)),l=r(9669),o=r.n(l);const u={components:{RecipePreviewList:c.Z},data:function(){return{query:"",recipes:[],loading:!1,error:null,selectedCuisine:null,selectedDiet:null,selectedIntolerance:null,numberOfResults:5,resultsOptions:[5,10,15],cuisines:["Italian","Chinese","American"],diets:["Vegetarian","Vegan","Keto"],intolerances:["Gluten","Dairy","Peanut"]}},methods:{searchRecipes:function(){var e=this;return(0,a.Z)((0,i.Z)().mark((function t(){var r;return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.query){t.next=2;break}return t.abrupt("return");case 2:return e.loading=!0,e.error=null,t.prev=4,t.next=7,o().get(e.$root.store.server_domain+"/recipes/search",{params:{recipeName:e.query,cuisine:e.selectedCuisine,diet:e.selectedDiet,intolerance:e.selectedIntolerance,number:e.numberOfResults}});case 7:r=t.sent,e.recipes=r.data,localStorage.setItem("lastSearch",JSON.stringify(e.recipes)),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](4),console.error("Error searching recipes:",t.t0),e.error="Error fetching search results.";case 16:return t.prev=16,e.loading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[4,12,16,19]])})))()}},mounted:function(){var e=localStorage.getItem("lastSearch");e&&(this.recipes=JSON.parse(e))}},d=u;var p=r(1001),m=(0,p.Z)(d,s,n,!1,null,"83629500",null);const f=m.exports}}]);
//# sourceMappingURL=786.ca5fc531.js.map